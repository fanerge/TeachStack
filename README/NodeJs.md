# 高并发
##  垂直扩展
提升单机配置（CPU、内存、网卡、硬盘）<br>
存在问题：摩尔定律，单机扩展性能提高是有限的，且成本越来越高（垂直扩展的收益逐渐变少）。
##  水平扩展（最优的方案）
理论上，在系统能支持水平扩展的前提下，增加服务器的数量，部署更多机器集群，能够带来无限的性能提升。<br>
### Nginx（峰值10W）
解决网络请求如何分布给多个机器去处理？最大支持10W并发，更多并发时需要Nginx集群。<br>
具体负载均衡的方式：
```
默认轮询 // 轮询分配服务器
least_conn // 优先使用最少连接的服务器
ip_hash // 相同ip分配同一台服务器，保存会话session
weight // 服务器分配权重
backup // 预留的备份机器
fair //按后端服务器的响应时间来分配请求，响应时间短的优先分配
url_hash // 按访问url的hash结果来分配请求，使每个url定向到同一个后端服务器
```
### LVS（负载均衡器， 峰值50W）
Linux Virtual Server<br>
原理：原本是请求LVS的服务器的数据包，被LVS软件篡改了数据包的目的地，将流量转移到了Nginx所在的机器IP，从而实现负载均衡，LVS基于网络七层协议中的传输层TCP服务器处理该层的性能优于处理HTTP层来优化性能。<br>
LVS比Nginx快的原因？<br>
LVS使用网络层的第四层TCP，TCP内容相对于HTTP内容更简单，解析和组装所消耗的CPU、内存等资源比Nginx要低。
### F5（软硬件结合，峰值1000W）
### DNS（无限水平扩展，无峰值）
DNS分发给F5，F5继续处理





